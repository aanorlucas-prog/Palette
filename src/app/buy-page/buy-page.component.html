<style>
  .page {
    min-height: 100vh;
    background: #f8fafc;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem 0 2rem 0;
  }

  .header-row {
    width: 100%;
    max-width: 1200px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: .75rem;
    padding: 0 1rem;
  }

  /* Modern back button (same style as Photos) */
  .back-btn {
    display: inline-flex;
    align-items: center;
    gap: .5rem;
    padding: .5rem .75rem;
    border-radius: 9999px;
    border: 1px solid rgba(2, 6, 23, 0.08);
    background: #ffffff;
    color: #0f172a;
    box-shadow: 0 1px 2px rgba(2, 6, 23, 0.04);
    cursor: pointer;
    transition: box-shadow .15s ease, transform .1s ease, background-color .15s ease;
  }
  .back-btn:hover { box-shadow: 0 3px 8px rgba(2, 6, 23, 0.10); transform: translateY(-1px); }
  .back-btn svg { stroke: #334155; }

  .title {
    margin: 0 auto;
    font-weight: 800;
    letter-spacing: -0.02em;
    background: linear-gradient(90deg, #14b8a6, #f59e0b, #ec4899);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .divider {
    height: 2px;
    width: min(720px, 92%);
    background: linear-gradient(90deg, #6366f1, #22d3ee, #f472b6, #f59e0b);
    border-radius: 9999px;
    margin-block: 12px 18px;
    opacity: .7;
  }

  /* Product card tweaks */
  .product-card { border: 1px solid rgba(2, 6, 23, 0.06); border-radius: 16px; background: #fff; box-shadow: 0 8px 24px rgba(15,23,42,.06); transition: transform .15s ease, box-shadow .15s ease; }
  .product-card:hover { transform: translateY(-3px); box-shadow: 0 14px 32px rgba(15,23,42,.1); }
  .accent-bar { position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, #818cf8, #22d3ee, #f472b6, #fb7185, #f59e0b); }
  .product-img { width: 100%; height: 12rem; object-fit: cover; display: block; }

  /* Cart panel */
  .cart-panel { right: 0; margin-top: .5rem; width: 16rem; max-height: 18rem; overflow-y: auto; background: #fff; box-shadow: 0 10px 30px rgba(15,23,42,.12); border-radius: .75rem; padding: 1rem; z-index: 50; }

  /* Responsive grid relies on existing tailwind utility classes */
</style>

<div class="page">
  <!-- Header -->
  <header class="header-row">
    <button class="back-btn" (click)="goBack()" aria-label="Retour">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M15 18L9 12L15 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span>Accueil</span>
    </button>

    <!-- Panier -->
    <div class="relative">
      <button (click)="toggleCart()"
        class="relative bg-gradient-to-r from-teal-300 to-amber-400 text-slate-900 rounded-full px-4 py-2 font-semibold shadow-md hover:from-teal-400 hover:to-amber-500 transition-colors flex items-center"
        aria-label="Afficher / Cacher le panier">
        <span class="material-icons">shopping_cart</span>
        <span class="ml-2">Panier</span>
        <span *ngIf="cart.length > 0" class="absolute -top-2 -right-2 bg-red-500 rounded-full text-xs w-5 h-5 flex items-center justify-center text-white font-bold">{{ cart.length }}</span>
      </button>

      <!-- Liste des articles dans le panier -->
      <div *ngIf="cartVisible" class="absolute cart-panel">
        <h2 class="font-bold text-lg mb-4 border-b pb-2">Panier</h2>
        <div *ngIf="cart.length === 0" class="text-gray-500">Votre panier est vide.</div>
        <ul *ngIf="cart.length > 0" class="space-y-3">
          <li *ngFor="let item of cart" class="flex justify-between items-center">
            <span>{{ item.title }}</span>
            <button (click)="removeFromCart(item)" class="text-red-500 hover:text-red-700 font-bold">&times;</button>
          </li>
        </ul>
      </div>
    </div>
  </header>

  <!-- Titre -->
  <h1 class="title text-4xl md:text-5xl mb-6 select-none mx-auto">Explore le monde, un voyage à la fois</h1>
  <div class="divider" role="separator" aria-label="Séparateur"></div>

  <!-- Grille produits -->
  <section class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-w-7xl mx-auto w-full px-4">
    <div *ngFor="let product of products" class="relative product-card cursor-pointer flex flex-col" [attr.aria-label]="'Produit: ' + product.title">
      <span class="accent-bar"></span>
      <a [href]="product.link" target="_blank" rel="noopener" class="block overflow-hidden rounded-t-2xl">
        <img [src]="product.image" alt="{{ product.title }}" class="product-img" />
      </a>

      <div class="p-4 flex flex-col flex-grow">
        <h3 class="text-lg font-semibold mb-1 text-slate-900">{{ product.title }}</h3>
        <p class="text-slate-600 flex-grow">{{ product.description }}</p>

        <div class="mt-3 flex items-center justify-between">
          <span class="font-bold text-slate-900">{{ product.price | currency:'EUR':'symbol':'1.0-0' }}</span>
          <button (click)="addToCart(product)" class="bg-gradient-to-r from-indigo-300 to-fuchsia-300 text-slate-900 font-semibold px-3 py-2 rounded-full shadow-sm hover:from-indigo-400 hover:to-fuchsia-400 transition-colors" [attr.aria-label]="'Ajouter ' + product.title + ' au panier'">
            Ajouter
          </button>
        </div>
      </div>
    </div>
  </section>
</div>
